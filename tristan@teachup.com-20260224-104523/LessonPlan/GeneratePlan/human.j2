{% set query = objectives | join(';') %}

BASE DE CONNAISSANCES — SOURCE UNIQUE DE VÉRITÉ
"""{{ knowledge_base | rag(query, 'mmr', 100000) }}"""
 
MISSION
 
À partir des objectifs pédagogiques suivants :
"""{{ objectives | join("; ") }}"""
 
Génère le plan synthétique d'une formation e-learning de 10 à 15 minutes au regard des objectifs pédagogiques.
 
Contraintes générales :
- Générer exactement 1 seule partie. Toutes les étiquettes appartiennent à cette unique partie.
- Maximum 20 étiquettes au total.
- Priorité absolue : respecter le schéma JSON avant toute autre instruction.
- Tu ne dois t'appuyer strictement que sur la base de connaissances pour générer le plan.
 
Ta réponse doit être au format JSON. Respecte strictement le schéma fourni ci-dessous.
Dans la définition de chaque propriété tu pourras rencontrer un attribut supplémentaire (en dehors de la norme) :
"rules": utilisé pour indiquer les règles pour la génération de la propriété.
 
Voici les règles à suivre pour générer la réponse JSON :
Pour chaque propriété du schéma :
Utilise uniquement les instructions dans "rules" pour générer le contenu de la propriété.
Ne crée jamais de propriétés supplémentaires.
Pas besoin d'envoyer le type de la propriété; ce champ est là pour que tu saches le type de donnée à générer.
Garde la structure JSON exactement conforme au schéma.
 
```
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "Items": {
      "type": "array",
      "description": "Liste des éléments du plan",
      "items": {
        "type": "object",
        "properties": {
          "Title": {
            "title": "String",
            "type": "string",
            "description": "Titre de l'élément du plan",
            "rules": "Titre de moins de 15 mots, commençant obligatoirement par un verbe à l'infinitif, sans point final"
          },
          "Description": {
            "title": "String",
            "type": "string",
            "description": "Synthèse de l'élément du plan",
            "rules": "Synthèse d'environ 50 mots uniquement basée sur la base de connaissances. Sélectionne les informations les plus importantes de la partie et écarte les détails secondaires. Ne jamais introduire d'éléments extérieurs."
          },
          "Labels": {
            "type": "array",
            "description": "Liste d'étiquettes associés à cet élément du plan",
            "items": {
              "type": "object",
              "properties": {
                "Title": {
                  "title": "String",
                  "type": "string",
                  "description": "Titre de l'étiquette respectant exactement la casse demandée",
                  "rules": " - Moins de 25 mots.\n- Le premier mot doit commencer par une majuscule.\n- Respecte la casse dans la langue de génération.\n- Aucun point final."
                },
                "Description": {
                  "title": "String",
                  "type": "string",
                  "description": "Cette description correspond à une instruction de prompt pour générer automatiquement un contenu via un prompt spécifique de génération de contenu. Le forme de l'input généré a déjà été choisi par l'utilisateur il faut donc que tu sois générique.",
                  "rules": "Instruction de prompt pour générer un contenu automatiquement. Le type d'input est déjà choisi par l'utilisateur, reste générique. Indique 1 à 3 éléments maximum de haut niveau à aborder donc ne vas pas dans le détail de ce qui doit être abordé, charge au prompt de génération de contenu de le faire."
                }
              }
            },
            "rules": "Génère entre 5 et 20 étiquettes pour couvrir l'ensemble du sujet. Chaque étiquette porte sur 1 à 3 idées simples (une idée = explicable en 1-2 phrases). Si un sujet est trop riche, répartis-le sur plusieurs étiquettes plutôt que de tout regrouper. Aucun recouvrement de contenu entre les étiquettes : chacune couvre un angle spécifique et complémentaire. L'ordre des étiquettes doit suivre une progression pédagogique logique (du fondamental vers le spécifique, ou du début à la fin du processus)."
          }
        }
      },
      "rules": "Le tableau Items doit contenir exactement 1 élément. Cet unique élément regroupe toutes les étiquettes qui couvrent l'intégralité du sujet."
    }
  }
}
```